doctype html5
html(lang=locale)
  head
    //-
    //-   Basic Page Needs
    //-   ==================================================
    title= config.organizationName

    meta(charset='utf-8')
    meta(name='description', content=config.socialshare.siteDescription)
    meta(name='viewport', content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0')

    //-
    //-   Google Analytics
    //-   ==================================================
    - if (config.googleAnalyticsTrackingId)
      script(async=true, src='https://www.googletagmanager.com/gtag/js?id=#{config.googleAnalyticsTrackingId}')
      script.
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        
        gtag('config', #{config.googleAnalyticsTrackingId});


    //-
    //-   Styles
    //-   ==================================================
    block styles

    //- HTML5 shim, for IE6-8 support of HTML5 elements
    script(src='https://cdn.polyfill.io/v1/polyfill.min.js')

    link(rel='icon', type='image/x-icon', href=config.favicon)

    //- Boostrap Complete
    link(
      rel='stylesheet',
      href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css')
    link(
      rel='stylesheet'
      href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.1/css/font-awesome.min.css')

    link(rel='stylesheet', href='/site.css')


    //-
    //-   Extra header
    //-   ==================================================
    block extraHeader

  body
    //-
    //-   Google Tag Manager (noscript)
    //-   ==================================================
    noscript
      iframe(src="https://www.googletagmanager.com/ns.html?id=GTM-NDKWJJ5" height="0" width="0" style="display:none;visibility:hidden")

    //-
    //-   Content
    //-   ==================================================
    #root

    script.
      window.config = !{JSON.stringify(client)};
      window.config.locale = '#{locale}';
      window.config.defaultForum = '#{defaultForum}';
      window.translations = !{JSON.stringify(translations)};

    //-
    //-   Scripts
    //-   ==================================================
    script(src='/site.js')

    //-
    //-   Overrideable default Fonts
    //-   ==================================================
    block fonts
      include ../../../../lib/layout/includes/fonts
